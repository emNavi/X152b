<launch>
    <!-- 1. 启动 mavros 和 控制驱动-->
    <arg name="drone_type" default="X152b"/>
    <arg name="drone_id" default="1"/>
    <arg name="gcs_udp_ip" default="10.42.0.108"/>
    <arg name="takeoff_height" default="0.5"/>
    <include file="$(find emnv_ctl_bridge)/launch/real_flight/single_ctrl_bridge.launch">
        <arg name="drone_id" value="$(arg drone_id)"/>
        <arg name="fcu_url" value="/dev/ttyACM0:921600"/>
        <arg name="gcs_udp_ip" value="$(arg gcs_udp_ip)"/>
        <arg name ="takeoff_height" value="$(arg takeoff_height)"/>
    </include>

    <!-- 2. 启动 realsense 相机驱动 -->
	<include file="$(find realsense_driver)/launch/rs_d430_camera.launch"></include>

    <!-- 3. 启动建图，用于避障 -->
	<include file="$(find drone_detect)/launch/drone_detect_for_swarm.launch">
            <arg name="drone_id" value="$(arg drone_id)"/>
    </include>

    <!-- 4. 启动远程可视化模块 -->
	<include file="$(find foxglove_bridge)/launch/foxglove_bridge.launch">
            <arg name="port" value="8765"/>
    </include>

</launch> 
